<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      {{ page.title }}{% if page.title != site.title %} - {{ site.title }}{%
      endif %}
    </title>

    <!-- SEO Meta Tags -->
    <meta
      name="description"
      content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}"
    />
    <meta
      name="keywords"
      content="photo organizer, photo management, image organization, photo sorting, picture organizer, media management, photo library, offline photo organizer, privacy-focused, desktop app, Windows, macOS, duplicate detection, EXIF data, automatic sorting"
    />
    <meta name="author" content="{{ site.author }}" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="revisit-after" content="7 days" />
    <meta name="distribution" content="global" />
    <meta name="rating" content="general" />

    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:site_name" content="{{ site.title }}" />
    <meta
      property="og:title"
      content="{{ page.title }}{% if page.title != site.title %} - {{ site.title }}{% endif %}"
    />
    <meta
      property="og:description"
      content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}"
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
    <meta
      property="og:image"
      content="{{ site.url }}/assets/images/app-screenshot.png"
    />
    <meta
      property="og:image:alt"
      content="Photo Organizer app interface showing intelligent photo organization features"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="{{ page.title }}{% if page.title != site.title %} - {{ site.title }}{% endif %}"
    />
    <meta
      name="twitter:description"
      content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}"
    />
    <meta
      name="twitter:image"
      content="{{ site.url }}/assets/images/app-screenshot.png"
    />
    <meta
      name="twitter:image:alt"
      content="Photo Organizer app interface showing intelligent photo organization features"
    />

    <!-- App-specific Meta Tags -->
    <meta name="application-name" content="{{ site.title }}" />
    <meta name="msapplication-TileColor" content="#2563eb" />
    <meta name="theme-color" content="#2563eb" />

    <!-- Structured Data for Application -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Photo Organizer",
        "description": "{{ site.description }}",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": ["macOS 10.15+", "Windows 10", "Windows 11"],
        "offers": {
          "@type": "Offer",
          "price": "19.99",
          "priceCurrency": "EUR",
          "category": "purchase"
        },
        "downloadUrl": [
          "https://apps.apple.com/us/app/flipfocus-photo-organizer/id6743702259",
          "https://apps.microsoft.com/detail/9N0T4WCLMJ63"
        ],
        "softwareVersion": "1.0",
        "datePublished": "2025-01-01",
        "author": {
          "@type": "Person",
          "name": "{{ site.author }}",
          "affiliation": {
            "@type": "Organization",
            "name": "Mcvanhassel Web Development",
            "url": "https://mcvanhassel.com"
          }
        },
        "publisher": {
          "@type": "Organization",
          "name": "Mcvanhassel Web Development",
          "url": "https://mcvanhassel.com"
        },
        "screenshot": "{{ site.url }}/assets/images/app-screenshot.png",
        "featureList": [
          "Automatic photo and video sorting",
          "Intelligent duplicate detection",
          "EXIF data extraction and organization",
          "Privacy-focused offline operation",
          "Customizable organization structure",
          "Cross-platform support"
        ],
        "aggregateRating": {
          "@type": "AggregateRating",
          "ratingValue": "4.8",
          "reviewCount": "127"
        }
      }
    </script>

    <!-- FAQ Structured Data for Featured Snippets -->
    {% if page.url == "/" or page.url == "/index.html" %}
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
          {
            "@type": "Question",
            "name": "How does Photo Organizer protect my privacy?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Photo Organizer operates 100% offline. All file processing happens locally on your device, and your photos never leave your computer. We don't collect any personal data or usage analytics."
            }
          },
          {
            "@type": "Question",
            "name": "What file formats are supported?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Photo Organizer supports all major photo formats (JPEG, PNG, HEIC, RAW files) and video formats (MP4, MOV, AVI). The app reads EXIF metadata to intelligently organize your files."
            }
          },
          {
            "@type": "Question",
            "name": "Can I undo organization changes?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "Yes! Photo Organizer offers both copy and move modes. We recommend using copy mode first to test the organization structure before committing to moving files."
            }
          },
          {
            "@type": "Question",
            "name": "How does duplicate detection work?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "The app uses advanced hash algorithms to identify duplicate files, even if they have different names or are in different folders. You can choose to keep, delete, or move duplicates."
            }
          },
          {
            "@type": "Question",
            "name": "Is there a limit to how many photos I can organize?",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "There's no artificial limit, but performance depends on your system resources. For optimal performance, we recommend processing fewer than 5,000 files at once for large collections."
            }
          }
        ]
      }
    </script>
    {% endif %}

    <!-- Canonical URL -->
    <link rel="canonical" href="{{ site.url }}{{ page.url }}" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{{ site.baseurl }}/assets/favicon/favicon32.png"
    />
    <link
      rel="manifest"
      href="{{ site.baseurl }}/assets/favicon/site.webmanifest"
    />
    <link rel="shortcut icon" href="{{ site.baseurl }}/favicon.ico" />

    <!-- CSS -->
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css" />

    <!-- Preconnect for performance (if using external resources) -->
    <link rel="dns-prefetch" href="//apps.apple.com" />
    <link rel="dns-prefetch" href="//apps.microsoft.com" />
    <link rel="dns-prefetch" href="//github.com" />

    <!-- Google Analytics & Google Ads (conditionally loaded) -->
    <script>
      // GDPR Consent Management
      window.cookieConsent = {
        hasConsent: function () {
          return localStorage.getItem("ga-consent") === "granted";
        },

        setConsent: function (granted) {
          localStorage.setItem("ga-consent", granted ? "granted" : "denied");
          if (granted) {
            this.loadGoogleAnalytics();
          }
        },

        loadGoogleAnalytics: function () {
          if (this.hasConsent() && !window.gtag) {
            // Load Google Analytics & Google Ads
            var script = document.createElement("script");
            script.async = true;
            script.src =
              "https://www.googletagmanager.com/gtag/js?id=G-4E22ELCWM8";
            document.head.appendChild(script);

            script.onload = function () {
              window.dataLayer = window.dataLayer || [];
              function gtag() {
                dataLayer.push(arguments);
              }
              window.gtag = gtag;
              gtag("js", new Date());

              // Google Analytics
              gtag("config", "G-4E22ELCWM8", {
                anonymize_ip: true,
                cookie_flags: "secure;samesite=strict",
              });

              // Google Ads (Replace with your actual conversion ID from Google Ads)
              // gtag("config", "AW-123456789");
            };
          }
        },
      };

      // Load GA if consent already given
      if (window.cookieConsent.hasConsent()) {
        window.cookieConsent.loadGoogleAnalytics();
      }
    </script>

    <!-- Google Ads Conversion Tracking -->
    <script>
      // Conversion tracking function
      // function trackConversion(conversionLabel, conversionValue) {
      //   if (typeof gtag !== "undefined" && window.cookieConsent.hasConsent()) {
      //     gtag("event", "conversion", {
      //       send_to: "AW-123456789/" + conversionLabel,
      //       value: conversionValue,
      //       currency: "EUR",
      //     });
      //   }
      // }

      // Wait for DOM to be ready
      document.addEventListener("DOMContentLoaded", function () {
        // Track App Store downloads (Primary Conversion)
        const appStoreLinks = document.querySelectorAll(
          'a[href*="apps.apple.com"], a[href*="apps.microsoft.com"]'
        );
        appStoreLinks.forEach(function (link) {
          link.addEventListener("click", function () {
            // Replace 'AbCdEfGhIjKlMnOpQrStUvWxYz' with your actual App Store Download conversion label
            gtag("event", "conversion_event_purchase", {
              // <event_parameters>
            });

            // Send to Google Analytics as well
            if (
              typeof gtag !== "undefined" &&
              window.cookieConsent.hasConsent()
            ) {
              gtag("event", "click", {
                event_category: "App Store",
                event_label: link.href.includes("apple.com")
                  ? "Mac App Store"
                  : "Microsoft Store",
                value: 19.99,
              });
            }
          });
        });

        // Track contact form submissions (Secondary Conversion)
        const contactForm = document.querySelector('form[action*="formspree"]');
        if (contactForm) {
          contactForm.addEventListener("submit", function () {
            // Replace 'ContactFormLabel123' with your actual Contact Form conversion label
            gtag("event", "conversion_event_contact", {
              // <event_parameters>
            });

            // Send to Google Analytics as well
            if (
              typeof gtag !== "undefined" &&
              window.cookieConsent.hasConsent()
            ) {
              gtag("event", "submit", {
                event_category: "Contact",
                event_label: "Contact Form Submission",
              });
            }
          });
        }

        // Track engagement events (for optimization)
        let scrolled50 = false;
        let timeOnPage2Min = false;

        // Track 50% scroll depth
        window.addEventListener("scroll", function () {
          if (
            !scrolled50 &&
            window.scrollY >= document.body.scrollHeight * 0.5
          ) {
            scrolled50 = true;
            if (
              typeof gtag !== "undefined" &&
              window.cookieConsent.hasConsent()
            ) {
              gtag("event", "scroll", {
                event_category: "Engagement",
                event_label: "50% Scroll Depth",
              });
            }
          }
        });

        // Track 2 minutes on page
        setTimeout(function () {
          if (!timeOnPage2Min) {
            timeOnPage2Min = true;
            if (
              typeof gtag !== "undefined" &&
              window.cookieConsent.hasConsent()
            ) {
              gtag("event", "timing_complete", {
                event_category: "Engagement",
                event_label: "2 Minutes on Page",
              });
            }
          }
        }, 120000); // 2 minutes
      });
    </script>

    <!-- Cookie Banner Overlay Styles -->
    <style>
      /* Cookie Banner Overlay */
      .cookie-banner-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease-in-out;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
      }

      .cookie-banner-overlay.show {
        opacity: 1;
        visibility: visible;
      }

      .cookie-banner-backdrop {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
      }

      .cookie-banner-modal {
        position: relative;
        background: white;
        border-radius: 1rem;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        max-width: 28rem;
        width: 100%;
        max-height: 90vh;
        overflow-y: auto;
        transform: scale(0.95);
        transition: transform 0.3s ease-in-out;
      }

      .cookie-banner-overlay.show .cookie-banner-modal {
        transform: scale(1);
      }

      .cookie-banner-content {
        padding: 2rem 1.5rem 1.5rem;
      }

      /* Header */
      .cookie-header {
        text-align: center;
        margin-bottom: 1.5rem;
      }

      .cookie-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 4rem;
        height: 4rem;
        background: #dbeafe;
        border-radius: 50%;
        margin-bottom: 1rem;
        color: #2563eb;
      }

      .cookie-icon svg {
        width: 2rem;
        height: 2rem;
      }

      .cookie-header h2 {
        font-size: 1.25rem;
        font-weight: 700;
        color: #111827;
        margin: 0;
      }

      /* Content */
      .cookie-description {
        margin-bottom: 1.5rem;
      }

      .cookie-main-text {
        margin-bottom: 0.75rem;
        color: #111827;
        font-size: 0.875rem;
      }

      .cookie-detail-text {
        margin-bottom: 1rem;
        color: #4b5563;
        font-size: 0.875rem;
        line-height: 1.5;
      }

      /* Benefits */
      .cookie-benefits {
        background: #f9fafb;
        border-radius: 0.5rem;
        padding: 1rem;
        margin-bottom: 1rem;
      }

      .benefits-title {
        font-size: 0.75rem;
        font-weight: 500;
        color: #374151;
        margin-bottom: 0.5rem;
      }

      .benefits-list {
        list-style: none;
        margin: 0;
        padding: 0;
      }

      .benefits-list li {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.75rem;
        color: #4b5563;
        margin-bottom: 0.25rem;
      }

      .benefit-dot {
        width: 0.375rem;
        height: 0.375rem;
        background: #2563eb;
        border-radius: 50%;
        flex-shrink: 0;
      }

      .cookie-privacy-note {
        font-size: 0.75rem;
        color: #6b7280;
        margin: 0;
      }

      .privacy-link {
        color: #2563eb;
        text-decoration: underline;
        transition: color 0.2s;
      }

      .privacy-link:hover {
        color: #1d4ed8;
      }

      /* Actions */
      .cookie-actions {
        margin-bottom: 1rem;
      }

      .cookie-btn {
        width: 100%;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 0.5rem;
        font-size: 0.875rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease-in-out;
        margin-bottom: 0.75rem;
      }

      .cookie-btn-primary {
        background: #2563eb;
        color: white;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }

      .cookie-btn-primary:hover {
        background: #1d4ed8;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        transform: translateY(-1px);
      }

      .cookie-btn-secondary {
        background: white;
        color: #4b5563;
        border: 1px solid #d1d5db;
      }

      .cookie-btn-secondary:hover {
        background: #f9fafb;
        color: #111827;
      }

      .cookie-btn-settings {
        background: transparent;
        color: #6b7280;
        text-decoration: underline;
        padding: 0.5rem 0;
        margin-bottom: 0;
      }

      .cookie-btn-settings:hover {
        color: #111827;
      }

      /* Trust Indicators */
      .cookie-trust {
        padding-top: 1rem;
        border-top: 1px solid #e5e7eb;
      }

      .trust-indicators {
        display: flex;
        justify-content: center;
        gap: 1rem;
      }

      .trust-item {
        display: flex;
        align-items: center;
        gap: 0.25rem;
        font-size: 0.75rem;
        color: #6b7280;
      }

      .trust-icon {
        width: 0.75rem;
        height: 0.75rem;
      }

      /* Mobile Responsive */
      @media (max-width: 640px) {
        .cookie-banner-overlay {
          padding: 0.5rem;
        }

        .cookie-banner-content {
          padding: 1.5rem 1rem 1rem;
        }

        .trust-indicators {
          flex-wrap: wrap;
          gap: 0.75rem;
        }

        .cookie-icon {
          width: 3rem;
          height: 3rem;
        }

        .cookie-icon svg {
          width: 1.5rem;
          height: 1.5rem;
        }
      }

      /* Preference Center Modal */
      .cookie-preferences-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1001;
        display: none;
        align-items: center;
        justify-content: center;
        padding: 1rem;
      }

      .cookie-preferences-content {
        background: white;
        border-radius: 0.5rem;
        padding: 2rem;
        max-width: 500px;
        width: 100%;
        max-height: 80vh;
        overflow-y: auto;
      }

      .cookie-preferences-modal.show {
        display: flex;
      }
    </style>
  </head>
  <body>
    <!-- Cookie Banner Overlay -->
    <div id="cookieBanner" class="cookie-banner-overlay">
      <div class="cookie-banner-backdrop"></div>
      <div class="cookie-banner-modal">
        <div class="cookie-banner-content">
          <!-- Header with Icon -->
          <div class="cookie-header">
            <div class="cookie-icon">
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                />
              </svg>
            </div>
            <h2>🍪 We Value Your Privacy</h2>
          </div>

          <!-- Content -->
          <div class="cookie-content">
            <div class="cookie-description">
              <p class="cookie-main-text">
                <strong>Help us improve your experience!</strong>
              </p>
              <p class="cookie-detail-text">
                We use analytics to understand how you use our website so we can
                make it better for you and other visitors.
              </p>

              <!-- Benefits List -->
              <div class="cookie-benefits">
                <p class="benefits-title">What this helps us do:</p>
                <ul class="benefits-list">
                  <li>
                    <span class="benefit-dot"></span>
                    Improve website performance and user experience
                  </li>
                  <li>
                    <span class="benefit-dot"></span>
                    Understand which features you find most useful
                  </li>
                  <li>
                    <span class="benefit-dot"></span>
                    Make our content more relevant and helpful
                  </li>
                </ul>
              </div>

              <p class="cookie-privacy-note">
                We never sell your data.
                <a
                  href="{{ site.baseurl }}/privacy-policy.html"
                  class="privacy-link"
                >
                  Read our privacy policy
                </a>
              </p>
            </div>

            <!-- Action Buttons -->
            <div class="cookie-actions">
              <!-- Primary Accept Button -->
              <button
                onclick="cookieConsent.accept()"
                class="cookie-btn cookie-btn-primary"
              >
                ✨ Accept & Continue
              </button>

              <!-- Secondary Decline Button -->
              <button
                onclick="cookieConsent.decline()"
                class="cookie-btn cookie-btn-secondary"
              >
                No thanks, just browsing
              </button>

              <!-- Settings Link -->
              <button
                onclick="cookieConsent.showSettings()"
                class="cookie-btn cookie-btn-settings"
              >
                Customize Settings
              </button>
            </div>

            <!-- Trust Indicators -->
            <div class="cookie-trust">
              <div class="trust-indicators">
                <div class="trust-item">
                  <svg
                    class="trust-icon"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <span>Secure</span>
                </div>
                <div class="trust-item">
                  <svg
                    class="trust-icon"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <span>GDPR Compliant</span>
                </div>
                <div class="trust-item">
                  <svg
                    class="trust-icon"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <span>Anonymous</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Cookie Preferences Modal -->
    <div id="cookiePreferencesModal" class="cookie-preferences-modal">
      <div class="cookie-preferences-content">
        <h3 class="text-xl font-bold mb-4">Cookie Preferences</h3>
        <div class="space-y-4">
          <div>
            <h4 class="font-semibold mb-2">Essential Cookies</h4>
            <p class="text-sm text-gray-600 mb-2">
              These cookies are necessary for the website to function and cannot
              be disabled.
            </p>
            <label class="flex items-center">
              <input type="checkbox" checked disabled class="mr-2" />
              <span class="text-sm">Always Active</span>
            </label>
          </div>

          <div>
            <h4 class="font-semibold mb-2">Analytics Cookies</h4>
            <p class="text-sm text-gray-600 mb-2">
              Help us understand how visitors interact with our website by
              collecting anonymous information.
            </p>
            <label class="flex items-center">
              <input type="checkbox" id="analyticsConsent" class="mr-2" />
              <span class="text-sm">Google Analytics</span>
            </label>
          </div>
        </div>

        <div class="flex gap-2 mt-6">
          <button
            onclick="cookieConsent.savePreferences()"
            class="cookie-btn cookie-btn-accept flex-1"
          >
            Save Preferences
          </button>
          <button
            onclick="cookieConsent.hideSettings()"
            class="cookie-btn cookie-btn-decline"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <nav class="bg-white shadow-sm">
      <div class="container mx-auto px-4">
        <div class="flex items-center justify-between h-16">
          <!-- Logo -->
          <a href="{{ site.baseurl }}/" class="flex items-center">
            <img
              src="{{ site.baseurl }}/assets/favicon/app.ico"
              alt="Photo Organizer - Intelligent Photo Management App Logo"
              class="w-12 h-12"
            />
            <span class="ml-2 text-xl font-semibold text-gray-900"
              >Photo Organizer</span
            >
          </a>

          <!-- Navigation Links -->
          <div class="hidden md:flex items-center space-x-8">
            <a
              href="{{ site.baseurl }}/"
              class="text-gray-600 hover:text-blue-600"
              >Home</a
            >
            <a
              href="{{ site.baseurl }}/#features"
              class="text-gray-600 hover:text-blue-600"
              >Features</a
            >
            <a
              href="{{ site.baseurl }}/#pricing"
              class="text-gray-600 hover:text-blue-600"
              >Pricing</a
            >
            <a
              href="{{ site.baseurl }}/#requirements"
              class="text-gray-600 hover:text-blue-600"
              >Requirements</a
            >
            <a
              href="{{ site.baseurl }}/#support"
              class="text-gray-600 hover:text-blue-600"
              >Support</a
            >
            <a
              href="{{ site.baseurl }}/contact.html"
              class="text-gray-600 hover:text-blue-600"
              >Contact</a
            >
          </div>

          <!-- Mobile menu button -->
          <div class="md:hidden">
            <button
              type="button"
              onclick="toggleMobileMenu()"
              class="text-gray-600 hover:text-blue-600"
              aria-label="Toggle menu"
            >
              <svg
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                />
              </svg>
            </button>
          </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden">
          <div class="px-2 pt-2 pb-3 space-y-1">
            <a
              href="{{ site.baseurl }}/"
              class="block px-3 py-2 text-gray-600 hover:text-blue-600"
              >Home</a
            >
            <a
              href="{{ site.baseurl }}/#features"
              class="block px-3 py-2 text-gray-600 hover:text-blue-600"
              >Features</a
            >
            <a
              href="{{ site.baseurl }}/#pricing"
              class="block px-3 py-2 text-gray-600 hover:text-blue-600"
              >Pricing</a
            >
            <a
              href="{{ site.baseurl }}/#requirements"
              class="block px-3 py-2 text-gray-600 hover:text-blue-600"
              >Requirements</a
            >
            <a
              href="{{ site.baseurl }}/#support"
              class="block px-3 py-2 text-gray-600 hover:text-blue-600"
              >Support</a
            >
            <a
              href="{{ site.baseurl }}/contact.html"
              class="block px-3 py-2 text-gray-600 hover:text-blue-600"
              >Contact</a
            >
          </div>
        </div>
      </div>
    </nav>

    {{ content }}

    <script>
      // Extend cookie consent functionality
      window.cookieConsent = Object.assign(window.cookieConsent || {}, {
        init: function () {
          // Show banner if no consent decision has been made
          if (!localStorage.getItem("ga-consent")) {
            setTimeout(() => {
              this.showBanner();
            }, 1000);
          }

          // Update analytics checkbox based on current consent
          const checkbox = document.getElementById("analyticsConsent");
          if (checkbox) {
            checkbox.checked = this.hasConsent();
          }
        },

        showBanner: function () {
          document.getElementById("cookieBanner").classList.add("show");
          this.disableBodyScroll();
        },

        hideBanner: function () {
          document.getElementById("cookieBanner").classList.remove("show");
          this.enableBodyScroll();
        },

        disableBodyScroll: function () {
          document.body.style.overflow = "hidden";
        },

        enableBodyScroll: function () {
          document.body.style.overflow = "";
        },

        accept: function () {
          this.setConsent(true);
          this.hideBanner();
        },

        decline: function () {
          this.setConsent(false);
          this.hideBanner();
        },

        showSettings: function () {
          // Update checkbox state
          const checkbox = document.getElementById("analyticsConsent");
          if (checkbox) {
            checkbox.checked = this.hasConsent();
          }
          document
            .getElementById("cookiePreferencesModal")
            .classList.add("show");
        },

        hideSettings: function () {
          document
            .getElementById("cookiePreferencesModal")
            .classList.remove("show");
        },

        savePreferences: function () {
          const analyticsCheckbox = document.getElementById("analyticsConsent");
          const analyticsConsent = analyticsCheckbox.checked;

          this.setConsent(analyticsConsent);
          this.hideSettings();
          this.hideBanner();
        },

        // Function to show preferences (for privacy policy link)
        showPreferences: function () {
          this.showSettings();
        },
      });

      // Initialize on page load
      document.addEventListener("DOMContentLoaded", function () {
        window.cookieConsent.init();
      });

      // Close modal when clicking outside
      document
        .getElementById("cookiePreferencesModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            window.cookieConsent.hideSettings();
          }
        });

      // Close cookie banner when clicking on backdrop
      document.addEventListener("click", function (e) {
        if (e.target.classList.contains("cookie-banner-backdrop")) {
          // Optionally allow closing by clicking backdrop - uncomment next line if desired
          // window.cookieConsent.decline();
        }
      });

      function toggleMobileMenu() {
        const mobileMenu = document.getElementById("mobile-menu");
        mobileMenu.classList.toggle("hidden");
      }

      // Smooth scroll for hash links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(
            this.getAttribute("href").substring(1)
          );
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
            });
          }
        });
      });
    </script>
  </body>
</html>
